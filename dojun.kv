#:kivy 2.3.1
#:import dp kivy.metrics.dp

ScreenManager:
    MainScreen:
        name: "main"
    UpdateHistoryScreen:
        name: "history"


<MainScreen>:
    MDBoxLayout:
        orientation: "vertical"

        # ===== 상단 헤더 =====
        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: dp(104)
            md_bg_color: 0.13, 0.58, 0.92, 1

            MDTopAppBar:
                title: ""
                left_action_items: [["history", lambda x: app.go_history()]]

            MDLabel:
                text: "이번주 주요 쟁점 사항"
                font_name: "Nanum"
                font_size: "20sp"
                bold: True
                halign: "center"
                valign: "middle"
                size_hint_y: None
                height: dp(40)
                color: 1, 1, 1, 1

        # ===== 탭 (고정 선언) =====
        MDTabs:
            id: tabs
            size_hint_y: None
            height: dp(48)
            on_tab_switch: root.on_tab_switch(*args)

            Tab:
                title: "전체"

            Tab:
                title: "회사안"

            Tab:
                title: "조합안"

        # ===== 리스트 =====
        ScrollView:
            MDList:
                id: issue_list
                adaptive_height: True


<UpdateHistoryScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            title: ""
            left_action_items: [["arrow-left", lambda x: app.go_main()]]

        MDLabel:
            text: "업데이트 내역"
            font_name: "Nanum"
            font_size: "20sp"
            bold: True
            halign: "center"
            size_hint_y: None
            height: dp(48)

        ScrollView:
            do_scroll_x: False

            MDBoxLayout:
                id: history_container
                orientation: "vertical"
                size_hint_y: None
                padding: dp(16)
                spacing: dp(16)
                height: self.minimum_height
