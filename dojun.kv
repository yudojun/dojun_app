#:kivy 2.3.1
#:import dp kivy.metrics.dp

ScreenManager:
    MainScreen:
        name: "main"
    DetailScreen:
        name: "detail"
    UpdateHistoryScreen:
        name: "history"



<MainScreen>:
    MDBoxLayout:
        orientation: "vertical"

        # ===== 상단 헤더 영역 =====
        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: dp(104)
            md_bg_color: 0.13, 0.58, 0.92, 1

            MDTopAppBar:
                title: ""
                elevation: 0
                right_action_items: [["history", lambda x: app.go_history()]]

            MDLabel:
                text: "이번주 주요 쟁점 사항"
                font_name: "Nanum"
                font_size: "20sp"
                bold: True
                halign: "center"
                valign: "middle"
                size_hint_y: None
                height: dp(40)
                color: 1, 1, 1, 1



        # ===== 탭 =====
        MDTabs:
            id: tabs
            size_hint_y: None
            height: dp(48)

        # ===== 리스트 =====
        ScrollView:
            do_scroll_x: False
            MDList:
                id: issue_list
                adaptive_height: True



<DetailScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            title: ""
            left_action_items: [["arrow-left", lambda x: app.go_main()]]

        ScrollView:
            MDBoxLayout:
                id: detail_box
                orientation: "vertical"
                padding: dp(16)
                spacing: dp(16)
                adaptive_height: True


<UpdateHistoryScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            title: ""
            left_action_items: [["arrow-left", lambda x: app.go_main()]]

            MDLabel:
                text: "업데이트 내역"
                font_name: "Nanum"
                font_size: "20sp"
                bold: True
                halign: "center"
                valign: "middle"
                size_hint_x: 1
                color: 1, 1, 1, 1

        ScrollView:
            do_scroll_x: False

            MDBoxLayout:
                orientation: "vertical"
                size_hint_y: None
                padding: dp(16)
                spacing: dp(12)
                height: self.minimum_height

                MDLabel:
                    text: root.update_text
                    font_name: "Nanum"
                    font_size: "15sp"
                    markup: True
                    halign: "left"
                    valign: "top"
                    size_hint_y: None
                    text_size: self.width - dp(32), None
                    height: self.texture_size[1] + dp(24)





