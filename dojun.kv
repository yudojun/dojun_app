#:kivy 2.3.1
#:import dp kivy.metrics.dp

ScreenManager:
    MainScreen:
        name: "main"
    UpdateHistoryScreen:
        name: "history"


<MainScreen>:
    MDBoxLayout:
        orientation: "vertical"

        # ===== ÏÉÅÎã® Ìó§Îçî =====
        MDBoxLayout:
            orientation: "vertical"
            size_hint_y: None
            height: dp(104)
            md_bg_color: 0.13, 0.58, 0.92, 1

            MDTopAppBar:
                title: ""
                left_action_items: [["history", lambda x: app.go_history()]]

                # üî¥ ÏóÖÎç∞Ïù¥Ìä∏ Ï†ê (Ìï≠ÏÉÅ Ï°¥Ïû¨)
                MDIcon:
                    id: update_dot
                    icon: "circle"
                    theme_text_color: "Custom"
                    text_color: 1, 0.2, 0.2, 1
                    opacity: 0
                    pos_hint: {"right": 0.97, "top": 0.9}
                    font_size: "12sp"

            MDLabel:
                text: "Ïù¥Î≤àÏ£º Ï£ºÏöî ÏüÅÏ†ê ÏÇ¨Ìï≠"
                font_name: "Nanum"
                font_size: "20sp"
                bold: True
                halign: "center"
                valign: "middle"
                size_hint_y: None
                height: dp(40)
                color: 1, 1, 1, 1


        # ===== ÌÉ≠ (Í≥†Ï†ï ÏÑ†Ïñ∏) =====
        MDTabs:
            id: tabs
            size_hint_y: None
            height: dp(48)
            on_tab_switch: root.on_tab_switch(*args)

            Tab:
                title: "Ï†ÑÏ≤¥"

            Tab:
                title: "ÌöåÏÇ¨Ïïà"

            Tab:
                title: "Ï°∞Ìï©Ïïà"

        # ===== Î¶¨Ïä§Ìä∏ =====
        ScrollView:
            MDBoxLayout:
                id: issue_list
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                padding: dp(12)
                spacing: dp(12)



<UpdateHistoryScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            title: ""
            left_action_items: [["arrow-left", lambda x: app.go_main()]]

        MDLabel:
            text: "ÏóÖÎç∞Ïù¥Ìä∏ ÎÇ¥Ïó≠"
            font_name: "Nanum"
            font_size: "20sp"
            bold: True
            halign: "center"
            size_hint_y: None
            height: dp(48)

        ScrollView:
            do_scroll_x: False

            MDBoxLayout:
                id: history_container
                orientation: "vertical"
                size_hint_y: None
                padding: dp(16)
                spacing: dp(16)
                height: self.minimum_height


<IssueDetailScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            title: "ÏüÅÏ†ê ÏÉÅÏÑ∏"
            left_action_items: [["arrow-left", lambda x: app.go_main()]]

        ScrollView:
            MDBoxLayout:
                id: detail_container
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                padding: dp(16)
                spacing: dp(16)
